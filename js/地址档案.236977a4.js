(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["地址档案"],{1158:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("label",{class:e.wrapClasses},[n("span",{class:e.checkboxClasses},[n("span",{class:e.innerClasses}),e.group?n("input",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],class:e.inputClasses,attrs:{type:"checkbox",disabled:e.disabled,name:e.name},domProps:{value:e.label,checked:Array.isArray(e.model)?e._i(e.model,e.label)>-1:e.model},on:{change:[function(t){var n=e.model,s=t.target,r=!!s.checked;if(Array.isArray(n)){var i=e.label,a=e._i(n,i);s.checked?a<0&&(e.model=n.concat([i])):a>-1&&(e.model=n.slice(0,a).concat(n.slice(a+1)))}else e.model=r},e.change],focus:e.onFocus,blur:e.onBlur}}):n("input",{class:e.inputClasses,attrs:{type:"checkbox",disabled:e.disabled,name:e.name},domProps:{checked:e.currentValue},on:{change:e.change,focus:e.onFocus,blur:e.onBlur}})]),e._t("default",[e.showSlot?n("span",[e._v(e._s(e.label))]):e._e()])],2)},r=[],i=n("a322"),a=(n("c5f6"),n("cd51")),c=n("3670"),o="ivu-checkbox",l={name:"Checkbox",mixins:[c["a"]],props:{disabled:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:!1},trueValue:{type:[String,Number,Boolean],default:!0},falseValue:{type:[String,Number,Boolean],default:!1},label:{type:[String,Number,Boolean]},indeterminate:{type:Boolean,default:!1},size:{validator:function(e){return Object(a["l"])(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},name:{type:String}},data:function(){return{model:[],currentValue:this.value,group:!1,showSlot:!0,parent:Object(a["g"])(this,"CheckboxGroup"),focusInner:!1}},computed:{wrapClasses:function(){var e;return["".concat(o,"-wrapper"),(e={},Object(i["a"])(e,"".concat(o,"-group-item"),this.group),Object(i["a"])(e,"".concat(o,"-wrapper-checked"),this.currentValue),Object(i["a"])(e,"".concat(o,"-wrapper-disabled"),this.disabled),Object(i["a"])(e,"".concat(o,"-").concat(this.size),!!this.size),e)]},checkboxClasses:function(){var e;return["".concat(o),(e={},Object(i["a"])(e,"".concat(o,"-checked"),this.currentValue),Object(i["a"])(e,"".concat(o,"-disabled"),this.disabled),Object(i["a"])(e,"".concat(o,"-indeterminate"),this.indeterminate),e)]},innerClasses:function(){return["".concat(o,"-inner"),Object(i["a"])({},"".concat(o,"-focus"),this.focusInner)]},inputClasses:function(){return"".concat(o,"-input")}},mounted:function(){this.parent=Object(a["g"])(this,"CheckboxGroup"),this.parent&&(this.group=!0),this.group?this.parent.updateModel(!0):(this.updateModel(),this.showSlot=void 0!==this.$slots.default)},methods:{change:function(e){if(this.disabled)return!1;var t=e.target.checked;this.currentValue=t;var n=t?this.trueValue:this.falseValue;this.$emit("input",n),this.group?this.parent.change(this.model):(this.$emit("on-change",n),this.dispatch("FormItem","on-form-change",n))},updateModel:function(){this.currentValue=this.value===this.trueValue},onBlur:function(){this.focusInner=!1},onFocus:function(){this.focusInner=!0}},watch:{value:function(e){if(e!==this.trueValue&&e!==this.falseValue)throw"Value should be trueValue or falseValue.";this.updateModel()}}},u=l,d=n("2877"),h=Object(d["a"])(u,s,r,!1,null,null,null);h.options.__file="checkbox.vue";t["a"]=h.exports},"5ee4":function(e,t,n){"use strict";var s=n("d527"),r=n.n(s);r.a},"5f61":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-basedata-address"},[e._m(0),n("div",{staticClass:"content"},e._l(e.addressArr,function(t){return n("div",{key:t.level,class:"list-box "+t.level},[n("div",{staticClass:"title-bar",domProps:{textContent:e._s(t.title+"("+(t.cur&&t.cur.name?t.cur.name:"未选择")+")")}}),t.loading?n("Spin",{attrs:{fix:""}}):n("ul",e._l(t.list,function(t,s){return n("li",{key:t.id,class:t.isActive?"active":""},[0===t.level||1===t.level?n("Checkbox",{model:{value:t.isChecked,callback:function(n){e.$set(t,"isChecked",n)},expression:"addr.isChecked"}}):e._e(),n("div",{attrs:{title:t.name},domProps:{textContent:e._s(t.name)},on:{click:function(n){e.selectLevel(t,s)}}})],1)}))],1)}))])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"head-bar"},[n("span",[e._v("地址档案")])])}],i=n("c93e"),a=n("8afe"),c=(n("96cf"),n("3040")),o=n("2b0e"),l=n("817d"),u=n("22b0");function d(){return Object(u["a"])(),u["b"]}let h=d();l["a"].newInstance=(e=>{const t=e||{},n=new o["a"]({data:Object.assign({},t,{}),render(e){let t="";return t=this.render?e(l["a"],{props:{fix:!0,fullscreen:!0}},[this.render(e)]):e(l["a"],{props:{size:"large",fix:!0,fullscreen:!0}}),e("div",{class:"ivu-spin-fullscreen ivu-spin-fullscreen-wrapper",style:{"z-index":2010+h}},[t])}}),s=n.$mount();document.body.appendChild(s.$el);const r=n.$children[0];return{show(){r.visible=!0,h=d()},remove(e){r.visible=!1,setTimeout(function(){r.$parent.$destroy(),void 0!==document.getElementsByClassName("ivu-spin-fullscreen")[0]&&document.body.removeChild(document.getElementsByClassName("ivu-spin-fullscreen")[0]),e()},500)},component:r}});var f=l["a"];let p;function m(e){return p=p||f.newInstance({render:e}),p}function v(e){const t="render"in e?e.render:void 0;let n=m(t);n.show(e)}f.show=function(e={}){return v(e)},f.hide=function(){if(!p)return!1;const e=m();e.remove(()=>{p=null})};var b=f,g=n("6066"),x={data:function(){return{addressArr:[{level:"province",title:"省份列表",loading:!1,cur:{},list:[]},{level:"city",title:"市级列表",loading:!1,cur:{},list:[]},{level:"area",title:"县区列表",loading:!1,cur:{},list:[]},{level:"town",title:"街道、镇列表",loading:!1,cur:{},list:[]}]}},components:{Checkbox:g["a"],Spin:b},methods:{getProvinces:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.addressArr[0].loading=!0,e.next=3,this.oAxios.get("/common/district/getAllProvinces");case 3:t=e.sent,t.success?(n=this.dealProvinces(Object(a["a"])(t.data)),this.addressArr[0].list=n):console.log("获取省份列表失败！"),this.addressArr[0].loading=!1;case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),getCities:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==t&&t!==this.addressArr[0].cur.id){e.next=2;break}return e.abrupt("return");case 2:return this.addressArr[1].loading=!0,e.next=5,this.oAxios.get("/common/district/getCitiesByProvinceCode/".concat(t));case 5:n=e.sent,n.success?(s=this.dealCities(Object(a["a"])(n.data)),this.addressArr[1].list=s):console.log("获取市区列表失败！"),this.addressArr[1].loading=!1;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getArea:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==t&&t!==this.addressArr[1].cur.id){e.next=2;break}return e.abrupt("return");case 2:return this.addressArr[2].loading=!0,e.next=5,this.oAxios.get("/common/district/getAreasByCityCode/".concat(t));case 5:n=e.sent,n.success?(s=this.dealArea(Object(a["a"])(n.data)),this.addressArr[2].list=s):console.log("获取县区列表失败！"),this.addressArr[2].loading=!1;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getTown:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(void 0!==t&&t!==this.addressArr[2].cur.id){e.next=2;break}return e.abrupt("return");case 2:return this.addressArr[3].loading=!0,e.next=5,this.oAxios.get("/common/district/getStreetsByAreaCode/".concat(t));case 5:n=e.sent,n.success?(s=this.dealTown(Object(a["a"])(n.data)),this.addressArr[3].list=s):console.log("获取城镇列表失败！"),this.addressArr[3].loading=!1;case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),getZone:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),dealProvinces:function(e){return e.map(function(e){return e.isActive=!1,e.isChecked=!1,e})},dealCities:function(e){return e.map(function(e){return e.isActive=!1,e.isChecked=!1,e})},dealArea:function(e){return e.map(function(e){return e.isActive=!1,e.isChecked=!1,e})},dealTown:function(e){return e.map(function(e){return e.isActive=!1,e.isChecked=!1,e})},selectLevel:function(e,t){switch(e.level){case 0:this.getCities(e.id);break;case 1:this.getArea(e.id);break;case 2:this.getTown(e.id);break;default:break}this.addressArr[e.level].cur=Object(i["a"])({},e),this.addressArr[e.level].list=this.addressArr[e.level].list.map(function(e,n){return e.isActive=n===t,e})}},mounted:function(){this.getProvinces(),this.getZone()}},w=x,k=(n("5ee4"),n("2877")),C=Object(k["a"])(w,s,r,!1,null,null,null);C.options.__file="Index.vue";t["default"]=C.exports},6066:function(e,t,n){"use strict";var s=n("1158"),r=n("7111");s["a"].Group=r["a"],t["a"]=s["a"]},7111:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes},[e._t("default")],2)},r=[],i=(n("ac6a"),n("a322")),a=n("cd51"),c=n("3670"),o="ivu-checkbox-group",l={name:"CheckboxGroup",mixins:[c["a"]],props:{value:{type:Array,default:function(){return[]}},size:{validator:function(e){return Object(a["l"])(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}}},data:function(){return{currentValue:this.value,childrens:[]}},computed:{classes:function(){return["".concat(o),Object(i["a"])({},"ivu-checkbox-".concat(this.size),!!this.size)]}},mounted:function(){this.updateModel(!0)},methods:{updateModel:function(e){if(this.childrens=Object(a["h"])(this,"Checkbox"),this.childrens){var t=this.value;this.childrens.forEach(function(n){n.model=t,e&&(n.currentValue=t.indexOf(n.label)>=0,n.group=!0)})}},change:function(e){this.currentValue=e,this.$emit("input",e),this.$emit("on-change",e),this.dispatch("FormItem","on-form-change",e)}},watch:{value:function(){this.updateModel(!0)}}},u=l,d=n("2877"),h=Object(d["a"])(u,s,r,!1,null,null,null);h.options.__file="checkbox-group.vue";t["a"]=h.exports},"817d":function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"fade"}},[e.fullscreenVisible?n("div",{class:e.classes},[n("div",{class:e.mainClasses},[n("span",{class:e.dotClasses}),n("div",{class:e.textClasses},[e._t("default")],2)])]):e._e()])},r=[],i=n("a322"),a=n("cd51"),c=n("cbcc"),o="ivu-spin",l={name:"Spin",mixins:[c["a"]],props:{size:{validator:function(e){return Object(a["l"])(e,["small","large","default"])},default:function(){return this.$IVIEW&&""!==this.$IVIEW.size?this.$IVIEW.size:"default"}},fix:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1}},data:function(){return{showText:!1,visible:!1}},computed:{classes:function(){var e;return["".concat(o),(e={},Object(i["a"])(e,"".concat(o,"-").concat(this.size),!!this.size),Object(i["a"])(e,"".concat(o,"-fix"),this.fix),Object(i["a"])(e,"".concat(o,"-show-text"),this.showText),Object(i["a"])(e,"".concat(o,"-fullscreen"),this.fullscreen),e)]},mainClasses:function(){return"".concat(o,"-main")},dotClasses:function(){return"".concat(o,"-dot")},textClasses:function(){return"".concat(o,"-text")},fullscreenVisible:function(){return!this.fullscreen||this.visible}},watch:{visible:function(e){e?this.addScrollEffect():this.removeScrollEffect()}},mounted:function(){this.showText=void 0!==this.$slots.default}},u=l,d=n("2877"),h=Object(d["a"])(u,s,r,!1,null,null,null);h.options.__file="spin.vue";t["a"]=h.exports},d527:function(e,t,n){}}]);
//# sourceMappingURL=地址档案.236977a4.js.map